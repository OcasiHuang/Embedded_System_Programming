Design a shared message queue in user and kernel spaces with multi-threading technique.
